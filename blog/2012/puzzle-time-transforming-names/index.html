<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>

  FozzieTheBeat


  | Puzzle Time: Transforming Names

</title>
<meta name="description" content="A simple blog tracking my journey back into Open Source.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://raw.githubusercontent.com/jwarby/pygments-css/master/github.css" />

<!-- Styles -->

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22></text></svg>">

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="canonical" href="/blog/2012/puzzle-time-transforming-names/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->

<script src="/assets/js/theme.js"></script>
<script src="/assets/js/dark_mode.js"></script>






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://fozziethebeat.com/">
       FozzieTheBeat
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          

          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                projects
                
              </a>
          </li>
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/publications/">
                publications
                
              </a>
          </li>
          
          
          
          
            <div class = "toggle-container">
              <a id = "light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Puzzle Time: Transforming Names</h1>
    <p class="post-meta">April 23, 2012</p>
  </header>

  <article class="post-content">
    <p>This post starts what will hopefully be a new trend: computational solutions to
<a href="https://www.npr.org/2012/04/22/151120151/a-puzzle-worthy-of-don-draper">NPR’s Sunday Puzzle</a>. In this weeks puzzle, we have to</p>

<blockquote>
  <p>Think of a common man’s name in four letters, one syllable. Move each letter
 exactly halfway around the alphabet. For example, A would become N, N would
 become A, and B would become O. The result will be a common woman’s name in
 two syllables. What names are these?</p>
</blockquote>

<p>Word puzzles can often be pretty hard for automated computer programs. This is
in part what made IBM’s Watson so darn cool. But thankfully this week’s puzzle
is amazingly simple for a program, in fact, i’d even say it’s ideal for a
program. To solve it, just need two simple steps:</p>

<ol>
  <li>Gather a bunch of male and female names</li>
  <li>Process the male names as noted to see if we have any matching female names</li>
</ol>

<p>Step 1 is perhaps the hardest since it requires gathering not only names, but
common names in english. However, <a href="https://namecensus.com/male_names.htm">this</a>
handy site has done the work for us.  Here they have listings of common English
names based on a variety of
categories: region, ranking, gender, alphabetical, etc. For our purposes, we’ll
just grab the a long list of the most frequent male and female names from <a href="https://namecensus.com/male_names.htm">here</a>
and <a href="https://namecensus.com/female_names.htm">here</a>. All the names are nicely
laid out in a table with a pretty regular format. In fact the format is so
regular we can write a <a href="https://en.wikipedia.org/wiki/Regular_expression">regular
expression</a> for it. Here’s an
example of the table:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;table</span> <span class="na">align=</span><span class="s">"left"</span> <span class="na">CELLPADDING=</span><span class="s">"3"</span> <span class="na">CELLSPACING=</span><span class="s">"3"</span> <span class="na">style=</span><span class="s">"table1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"F5FDD9"</span><span class="nt">&gt;&lt;td&gt;&lt;b&gt;</span>Name<span class="ni">&amp;nbsp;&amp;nbsp;</span><span class="nt">&lt;/td&gt;&lt;td&gt;&lt;b&gt;</span>% Frequency<span class="ni">&amp;nbsp;&amp;nbsp;</span><span class="nt">&lt;/td&gt;&lt;td&gt;&lt;b&gt;</span>Approx Number<span class="ni">&amp;nbsp;&amp;nbsp;</span><span class="nt">&lt;/td&gt;&lt;td&gt;&lt;b&gt;</span>Rank<span class="ni">&amp;nbsp;&amp;nbsp;</span><span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;&lt;td&gt;</span>AARON<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.24<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 350,151 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>77<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;&lt;td&gt;</span>ABDUL<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.007<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 10,213 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>831<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"F5FDD9"</span><span class="nt">&gt;&lt;td&gt;</span>ABE<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.006<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 8,754 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>854<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;&lt;td&gt;</span>ABEL<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.019<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 27,720 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>485<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;&lt;td&gt;</span>ABRAHAM<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.035<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 51,064 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>347<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;&lt;td&gt;</span>ABRAM<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.005<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 7,295 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>1053<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"F5FDD9"</span><span class="nt">&gt;&lt;td&gt;</span>ADALBERTO<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.005<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 7,295 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>1040<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;tr</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;&lt;td&gt;</span>ADAM<span class="nt">&lt;/td&gt;&lt;td&gt;</span>0.259<span class="nt">&lt;/td&gt;&lt;td&gt;</span> 377,871 <span class="nt">&lt;/td&gt;&lt;td&gt;</span>69<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
</code></pre></div></div>

<p>Regular right? It’s so darn simple we can use some simple command line tools to clean it up:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>female_names_alpha.htm | <span class="nb">grep</span> <span class="s1">'&lt;tr bgcolor="'</span> | <span class="nb">sed</span> <span class="s2">"s/.*&lt;td&gt;</span><span class="se">\(</span><span class="s2">[A-Z]</span><span class="se">\+\)</span><span class="s2">.*/</span><span class="se">\1</span><span class="s2">/"</span> | <span class="nb">tail</span> <span class="nt">-n</span> +2 <span class="o">&gt;</span> female_names.txt
</code></pre></div></div>

<p>If we downloaded the female names into <code class="language-plaintext highlighter-rouge">female_names_alpha.htm</code>, the first part
will simply print out the contents of the html page to standard out. The second
part, the grep command, will catch all rows in the table, which thankfully have
the same start prefix. Part three extracts the names nestled in a row element.
And finally the tail part eliminates the first row of the table, e.g. the head
row, which grep accidentally catches. This’ll grab us a ton of names.</p>

<p>So what’s next? Well, we have a bunch of male and female names. But we’ve got
too many, namely we have names that clearly won’t work as they have too many or
too few letters. So let’s so some more cleaning, but this time in scala:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">maleNames</span> <span class="k">=</span> <span class="nv">Source</span><span class="o">.</span><span class="py">fromFile</span><span class="o">(</span><span class="nf">args</span><span class="o">(</span><span class="mi">0</span><span class="o">)).</span><span class="py">getLines</span><span class="o">.</span><span class="py">filter</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">size</span> <span class="o">==</span> <span class="mi">4</span><span class="o">)</span>
</code></pre></div></div>

<p>This dandy line reads the text from the file and filters out any lines that
have more than four characters. Since our initial processing placed each name
on a line, this in effect removes any names with more than four letters. If we
do this with the female names, we’ll have lists of common four letter names for
the two genders. For later use, we’ll also turn the female names into a set by
calling <code class="language-plaintext highlighter-rouge">.toSet</code> on the list.</p>

<p>Last, we can do the transformation on each male name to see if it’s a valid female name and then print out any combinations that match. The next three lines do this slickly:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">maleNames</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="n">w</span> <span class="k">=&gt;</span> <span class="o">(</span><span class="n">w</span><span class="o">,</span> <span class="nv">w</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="n">l</span> <span class="k">=&gt;</span> <span class="o">(((</span><span class="n">l</span><span class="o">-'</span><span class="n">A</span><span class="o">'+</span><span class="mi">13</span><span class="o">)</span> <span class="o">%</span> <span class="mi">26</span><span class="o">)</span> <span class="o">+</span> <span class="sc">'A'</span><span class="o">).</span><span class="py">toChar</span><span class="o">).</span><span class="py">toString</span><span class="o">))</span>
         <span class="o">.</span><span class="py">filter</span><span class="o">(</span> <span class="n">bg</span> <span class="k">=&gt;</span> <span class="nv">femaleNames</span><span class="o">.</span><span class="py">contains</span><span class="o">(</span><span class="nv">bg</span><span class="o">.</span><span class="py">_2</span><span class="o">))</span>
         <span class="o">.</span><span class="py">foreach</span><span class="o">(</span><span class="n">println</span><span class="o">)</span>
</code></pre></div></div>

<p>This works in three steps. First, the map call transforms each male name into a
tuple which consists of the original male name, and then a potential female
name by sliding up each letter in the name by 13 letters. With ascii
characters, this is done just by first grounding the letter to 0, by
subtracting the char value for A, adding 13, and then rolling over the value to
be back in the range of the 26 letter characters by taking the modulo (%) and
finally bumping the character value into the range of real ascii characters by
adding A. That’s all done in the first line. Step two is to simply throw out
any generated female names that don’t show up in our list of female names, done
by line 3. And the final line just prints out any matches we get. With our name
lists, this turns out to be:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(ERIN,REVA)
(EVAN,RINA)
(GLEN,TYRA)
(IVAN,VINA)
(RYAN,ELNA)
</code></pre></div></div>

<p>The rules of the game stipulated that the male name had to have one syllable
and the female name has to have two. We didn’t code for this at all since that
parts slightly more complicated, and since our pre-processing reduced the set
of options down to five, we can easily pick out a valid answer. In this case,
“Glen” and “Tyra” or “Ryan” and “Elna” look like valid responses. I’d vote for
the first pair since I haven’t heard “Elna” in forever.</p>

  </article>

  

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License"
           style="border-width:0"
           src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    This
    work is licensed under a
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      Creative Commons Attribution 4.0 International License
    </a>.

    <br />

    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with the <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.

  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Medium Zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/assets/js/zoom.js"></script>


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
